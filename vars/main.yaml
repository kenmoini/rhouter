---
########################################################################################
# Function Switches

set_hostname: true
update_system: true

configure_routing: true
configure_interfaces: true
configure_dhcp_dhcpd: true
configure_dns_bind: true
configure_mdns_avahi: true
configure_ntp_chrony: true
configure_firewall_firewalld: true
configure_firewall_fail2ban: true
configure_upnp_upnpd: true

########################################################################################
### General Settings

system_hostname: rhouter
system_domain: kemo.labs

########################################################################################
### Routing
routing_enable_ipv4: true
routing_enable_ipv6: true

########################################################################################
### Interfaces
enable_wan_interface: true
enable_lan_interface: true
enable_opt1_interface: true
enable_opt2_interface: true

configure_wan_interface: true
configure_lan_interface: true
configure_opt1_interface: true
configure_opt2_interface: true

wan_interface: em1
lan_interface: em2
opt1_interface: em3
opt2_interface: em4

wan_network_type: dhcp #dhcp, disabled, or static
wan_ip_address: 1.2.3.4
wan_network_block: 1.2.3.0
wan_cidr: 24
wan_gateway: 1.2.3.1
wan_dns: manual #auto or manual
wan_dns_servers:
 - 1.1.1.1
 - 8.8.8.8

lan_network_type: static #dhcp, disabled, or static
lan_ip_address: 10.69.42.1
lan_network_block: 10.69.42.0
lan_cidr: 16
lan_gateway: 10.69.42.1
lan_dns: manual #auto or manual
lan_dns_servers:
 - 10.69.42.1

opt1_network_type: static #dhcp, disabled, or static
opt1_ip_address: 10.69.44.1
opt1_network_block: 10.69.44.0
opt1_cidr: 16
opt1_gateway: 10.69.42.1
opt1_dns: manual #auto or manual
opt1_dns_servers:
 - 10.69.42.1

opt2_network_type: static #dhcp, disabled, or static
opt2_network_block: 10.69.46.0
opt2_ip_address: 10.69.46.1
opt2_cidr: 16
opt2_gateway: 10.69.42.1
opt2_dns: manual #auto or manual
opt2_dns_servers:
 - 10.69.42.1

########################################################################################
### DHCP - dhcpd

########################################################################################
### DNS - BIND

########################################################################################
### mDNS - Avahi

########################################################################################
### NTP - Chrony

########################################################################################
### Firewalld - Firewalld

enable_ip_masquerade: true
ip_masquerade:
  - name: lan
    wan_interface: "{{ wan_interface }}"
    lan_cidr: "{{ lan_network_block }}/{{ lan_cidr }}"
